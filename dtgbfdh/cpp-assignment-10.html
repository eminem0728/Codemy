<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–¥–∞–Ω–∏–µ 10: –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã - CodeLearn</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            line-height: 1.6;
        }
        .header {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { font-size: 1.8em; font-weight: bold; text-decoration: none; color: white; }
        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            text-decoration: none;
            transition: background 0.3s ease;
        }
        .back-btn:hover { background: rgba(255, 255, 255, 0.3); }
        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .assignment-header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
        }
        .assignment-title {
            font-size: 2.5em;
            margin-bottom: 15px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .assignment-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .content-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        .content-section h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .content-section h3 {
            color: #ffd700;
            margin: 25px 0 15px 0;
            font-size: 1.4em;
        }
        .content-section p { margin-bottom: 15px; font-size: 1.1em; }
        .code-example {
            background: rgba(0, 0, 0, 0.4);
            border-left: 4px solid #ffd700;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .code-example code {
            color: #00ff00;
            font-size: 0.95em;
            line-height: 1.5;
        }
        .task-box {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .task-box h4 {
            color: #ffd700;
            margin-bottom: 10px;
        }
        .solution-box {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .solution-box h4 {
            color: #51cf66;
            margin-bottom: 10px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        .nav-button {
            background: #ffd700;
            color: #333;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease;
        }
        .nav-button:hover { transform: translateY(-2px); }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <a href="courses.html" class="logo">üöÄ CodeLearn</a>
            <a href="course-cpp.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>
        </div>
    </header>

    <div class="container">
        <div class="assignment-header">
            <h1 class="assignment-title">–ó–∞–¥–∞–Ω–∏–µ 10: –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã</h1>
            <div class="assignment-meta">
                <span>‚ö° C++</span>
                <span>‚è±Ô∏è 75 –º–∏–Ω—É—Ç</span>
                <span>üìù –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</span>
            </div>
        </div>

        <div class="content-section">
            <h2>üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>
            <p>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π, RAII, —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏, –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ move-—Å–µ–º–∞–Ω—Ç–∏–∫—É –≤ C++.</p>
        </div>

        <div class="content-section">
            <h2>üéØ –¶–µ–ª–∏ –∑–∞–¥–∞–Ω–∏—è</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–û—Å–≤–æ–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∏—Å–∫–ª—é—á–µ–Ω–∏–π</li>
                <li>–ü—Ä–∏–º–µ–Ω–∏—Ç—å RAII –∏ —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏</li>
                <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è</li>
                <li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å move-—Å–µ–º–∞–Ω—Ç–∏–∫—É</li>
                <li>–°–æ–∑–¥–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</li>
            </ul>
        </div>

        <div class="task-box">
            <h4>üìù –ó–∞–¥–∞—á–∞</h4>
            <p>–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É AdvancedCppDemo, –∫–æ—Ç–æ—Ä–∞—è:</p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–†–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</li>
                <li>–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç RAII —Å —É–º–Ω—ã–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏</li>
                <li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö</li>
                <li>–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç move-—Å–µ–º–∞–Ω—Ç–∏–∫—É –≤ –¥–µ–π—Å—Ç–≤–∏–∏</li>
                <li>–í–∫–ª—é—á–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>–ò—Å–∫–ª—é—á–µ–Ω–∏—è (25%):</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞</li>
                <li><strong>RAII –∏ —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (25%):</strong> –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é</li>
                <li><strong>–õ—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è (20%):</strong> –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</li>
                <li><strong>Move-—Å–µ–º–∞–Ω—Ç–∏–∫–∞ (15%):</strong> –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
                <li><strong>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (15%):</strong> –ù–∞–¥–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—à–∏–±–æ–∫</li>
            </ul>
        </div>

        <div class="solution-box">
            <h4>üí° –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è</h4>
            <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è:</p>
            <button onclick="toggleSolution()" class="nav-button" style="margin-top: 15px;">
                –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ
            </button>

            <div id="solution" style="display: none; margin-top: 20px;">
                <div class="code-example">
                    <code>/**
 * –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ–º C++
 * –ê–≤—Ç–æ—Ä: –°—Ç—É–¥–µ–Ω—Ç CodeLearn
 * –î–∞—Ç–∞: 08.12.2024
 */

#include <iostream>
#include <memory>
#include <vector>
#include <algorithm>
#include <functional>
#include <string>
#include <fstream>

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
class DatabaseException : public std::runtime_error {
private:
    int errorCode;

public:
    DatabaseException(const std::string& message, int code = 0)
        : std::runtime_error(message), errorCode(code) {}

    int getErrorCode() const { return errorCode; }
};

class ValidationException : public std::logic_error {
public:
    ValidationException(const std::string& message)
        : std::logic_error(message) {}
};

// –ö–ª–∞—Å—Å —Å RAII (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–º —Ñ–∞–π–ª–∞)
class FileHandler {
private:
    std::unique_ptr<std::fstream> file;
    std::string filename;

public:
    FileHandler(const std::string& fname, std::ios::openmode mode = std::ios::in | std::ios::out)
        : filename(fname) {
        file = std::make_unique<std::fstream>(fname, mode);
        if (!file->is_open()) {
            throw DatabaseException("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª: " + fname, 1001);
        }
        std::cout << "–§–∞–π–ª '" << fname << "' –æ—Ç–∫—Ä—ã—Ç\n";
    }

    ~FileHandler() {
        if (file && file->is_open()) {
            file->close();
            std::cout << "–§–∞–π–ª '" << filename << "' –∑–∞–∫—Ä—ã—Ç\n";
        }
    }

    void write(const std::string& data) {
        if (file && file->is_open()) {
            (*file) << data << std::endl;
        }
    }

    std::string readLine() {
        std::string line;
        if (file && std::getline(*file, line)) {
            return line;
        }
        return "";
    }

    void reset() {
        if (file) {
            file->clear();
            file->seekg(0);
        }
    }
};

// –ö–ª–∞—Å—Å —Å move-—Å–µ–º–∞–Ω—Ç–∏–∫–æ–π
class BigData {
private:
    std::unique_ptr<int[]> data;
    size_t size;

public:
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    BigData(size_t s) : size(s) {
        data = std::make_unique<int[]>(size);
        std::cout << "–í—ã–¥–µ–ª–µ–Ω–∞ –ø–∞–º—è—Ç—å –¥–ª—è " << size << " —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n";
        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
        for (size_t i = 0; i < size; ++i) {
            data[i] = static_cast<int>(i);
        }
    }

    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (–∑–∞–ø—Ä–µ—â–µ–Ω)
    BigData(const BigData&) = delete;

    // Move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    BigData(BigData&& other) noexcept : data(std::move(other.data)), size(other.size) {
        other.size = 0;
        std::cout << "Move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–∑–≤–∞–Ω\n";
    }

    // Move-–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
    BigData& operator=(BigData&& other) noexcept {
        if (this != &other) {
            data = std::move(other.data);
            size = other.size;
            other.size = 0;
            std::cout << "Move-–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ\n";
        }
        return *this;
    }

    size_t getSize() const { return size; }

    void processData() {
        if (!data) return;

        // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è
        auto sumLambda = [this]() -> long long {
            long long sum = 0;
            for (size_t i = 0; i < size; ++i) {
                sum += data[i];
            }
            return sum;
        };

        std::cout << "–°—É–º–º–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: " << sumLambda() << std::endl;
    }
};

// –§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
void validateUserData(const std::string& name, int age) {
    if (name.empty()) {
        throw ValidationException("–ò–º—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");
    }
    if (age < 0 || age > 150) {
        throw ValidationException("–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 0 –¥–æ 150 –ª–µ—Ç");
    }
}

// –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
void processUserData(const std::string& filename) {
    try {
        // RAII: —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä–æ–µ—Ç—Å—è
        FileHandler file(filename, std::ios::out | std::ios::trunc);

        // –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö
        file.write("–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö");
        file.write("–í—Ä–µ–º—è: " + std::to_string(time(nullptr)));

        // –°–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è move-—Å–µ–º–∞–Ω—Ç–∏–∫–∏)
        BigData data1(1000000);
        BigData data2 = std::move(data1);  // Move-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

        data2.processData();

        // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏
        std::vector<int> numbers = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–µ—Ç–Ω—ã—Ö —á–∏—Å–µ–ª —Å –ø–æ–º–æ—â—å—é –ª—è–º–±–¥—ã
        std::vector<int> evenNumbers;
        std::copy_if(numbers.begin(), numbers.end(), std::back_inserter(evenNumbers),
                    [](int x) { return x % 2 == 0; });

        file.write("–ß–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞:");
        for (int num : evenNumbers) {
            file.write(std::to_string(num));
        }

        // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        std::vector<int> squaredNumbers;
        std::transform(numbers.begin(), numbers.end(), std::back_inserter(squaredNumbers),
                      [](int x) { return x * x; });

        file.write("–ö–≤–∞–¥—Ä–∞—Ç—ã —á–∏—Å–µ–ª:");
        for (int num : squaredNumbers) {
            file.write(std::to_string(num));
        }

        std::cout << "–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã\n";

    } catch (const DatabaseException& e) {
        std::cerr << "–û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: " << e.what()
                  << " (–∫–æ–¥: " << e.getErrorCode() << ")\n";
        throw;  // –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    } catch (const ValidationException& e) {
        std::cerr << "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: " << e.what() << "\n";
        throw;
    } catch (const std::exception& e) {
        std::cerr << "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: " << e.what() << "\n";
        throw;
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —É–º–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
void demonstrateSmartPointers() {
    std::cout << "\n=== –£–ú–ù–´–ï –£–ö–ê–ó–ê–¢–ï–õ–ò ===\n";

    // unique_ptr
    std::unique_ptr<int> uniquePtr = std::make_unique<int>(42);
    std::cout << "unique_ptr: " << *uniquePtr << std::endl;

    // shared_ptr
    std::shared_ptr<int> sharedPtr1 = std::make_shared<int>(100);
    std::shared_ptr<int> sharedPtr2 = sharedPtr1;  // –û–±—â–∏–π –≤–ª–∞–¥–µ–Ω–∏–µ
    std::cout << "shared_ptr1: " << *sharedPtr1 << std::endl;
    std::cout << "shared_ptr2: " << *sharedPtr2 << std::endl;
    std::cout << "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫: " << sharedPtr1.use_count() << std::endl;

    // weak_ptr
    std::weak_ptr<int> weakPtr = sharedPtr1;
    if (auto locked = weakPtr.lock()) {
        std::cout << "weak_ptr –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω: " << *locked << std::endl;
    }
}

int main() {
    std::cout << "=== –ü–†–û–î–í–ò–ù–£–¢–´–ï –¢–ï–ú–´ C++ ===\n\n";

    try {
        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π
        std::cout << "=== –û–ë–†–ê–ë–û–¢–ö–ê –ò–°–ö–õ–Æ–ß–ï–ù–ò–ô ===\n";
        validateUserData("–ò–≤–∞–Ω", 25);
        std::cout << "–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ\n";

        // –ü–æ–ø—ã—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        try {
            validateUserData("", -5);
        } catch (const ValidationException& e) {
            std::cout << "–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: " << e.what() << std::endl;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å RAII
        std::cout << "\n=== RAII –ò –û–ë–†–ê–ë–û–¢–ö–ê –î–ê–ù–ù–´–• ===\n";
        processUserData("user_data.txt");

        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–º–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
        demonstrateSmartPointers();

        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π
        std::cout << "\n=== –õ–Ø–ú–ë–î–ê-–í–´–†–ê–ñ–ï–ù–ò–Ø ===\n";
        std::vector<int> data = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

        // –õ—è–º–±–¥–∞ —Å –∑–∞—Ö–≤–∞—Ç–æ–º
        int threshold = 5;
        auto countGreater = [threshold](const std::vector<int>& vec) {
            return std::count_if(vec.begin(), vec.end(),
                               [threshold](int x) { return x > threshold; });
        };

        std::cout << "–≠–ª–µ–º–µ–Ω—Ç–æ–≤ –±–æ–ª—å—à–µ " << threshold << ": "
                  << countGreater(data) << std::endl;

        // –õ—è–º–±–¥–∞ —Å mutable
        int counter = 0;
        auto incrementAndPrint = [counter]() mutable -> int {
            return ++counter;
        };

        for (int i = 0; i < 3; ++i) {
            std::cout << "–°—á–µ—Ç—á–∏–∫: " << incrementAndPrint() << std::endl;
        }

        std::cout << "\n=== –ü–†–û–ì–†–ê–ú–ú–ê –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û ===" << std::endl;

    } catch (const std::exception& e) {
        std::cerr << "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: " << e.what() << std::endl;
        return 1;
    }

    return 0;
}</code>
                </div>
            </div>
        </div>

        <div class="navigation">
            <a href="course-cpp.html" class="nav-button">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>
            <button onclick="markAssignmentCompleted(10)" class="nav-button" style="border: none; cursor: pointer;">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
            <span class="nav-button" style="background: rgba(255,255,255,0.2); cursor: default;">–ö–æ–Ω–µ—Ü –∫—É—Ä—Å–∞ üéâ</span>
        </div>

        <script>
            function toggleSolution() {
                const solution = document.getElementById('solution');
                const button = event.target;

                if (solution.style.display === 'none') {
                    solution.style.display = 'block';
                    button.textContent = '–°–∫—Ä—ã—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
                } else {
                    solution.style.display = 'none';
                    button.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
                }
            }

            function markAssignmentCompleted(assignmentNum) {
                const completedAssignments = JSON.parse(localStorage.getItem('completedCPPAssignments') || '[]');
                if (!completedAssignments.includes(assignmentNum)) {
                    completedAssignments.push(assignmentNum);
                    localStorage.setItem('completedCPPAssignments', JSON.stringify(completedAssignments));
                    alert('–ó–∞–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –∫—É—Ä—Å–∞ C++! üéâ');
                } else {
                    alert('–≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —É–∂–µ –æ—Ç–º–µ—á–µ–Ω–æ –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ.');
                }
            }
        </script>
    </div>
</body>
</html>