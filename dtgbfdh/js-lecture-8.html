<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–µ–∫—Ü–∏—è 8: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π JavaScript - CodeLearn</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .lecture-header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
        }
        .lecture-title {
            font-size: 2.5em;
            margin-bottom: 15px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .content-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
        }
        .content-section h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .code-example {
            background: rgba(0, 0, 0, 0.4);
            border-left: 4px solid #ffd700;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        .nav-button {
            background: #ffd700;
            color: #333;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="lecture-header">
            <h1 class="lecture-title">–õ–µ–∫—Ü–∏—è 8: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π JavaScript</h1>
        </div>

        <div class="content-section">
            <h2>üéØ –¶–µ–ª–∏ –ª–µ–∫—Ü–∏–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–ò–∑—É—á–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
                <li>–û—Å–≤–æ–∏—Ç—å Promises</li>
                <li>–ü–æ–Ω—è—Ç—å async/await</li>
                <li>–ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–µ —Å API</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üìö –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π vs –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥</h2>

            <div class="code-example">
                <code>// –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π)
console.log('–ù–∞—á–∞–ª–æ');
const result = someLongOperation(); // –ñ–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result);
console.log('–ö–æ–Ω–µ—Ü');

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ (–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π)
console.log('–ù–∞—á–∞–ª–æ');
someAsyncOperation(function(result) {
    console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result);
    console.log('–ö–æ–Ω–µ—Ü');
});
console.log('–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è...');</code>
            </div>
        </div>

        <div class="content-section">
            <h2>üîÑ Promises</h2>

            <div class="code-example">
                <code>// –°–æ–∑–¥–∞–Ω–∏–µ Promise
const myPromise = new Promise((resolve, reject) => {
    setTimeout(() => {
        const success = Math.random() > 0.5;
        if (success) {
            resolve('–£—Å–ø–µ—Ö!');
        } else {
            reject('–û—à–∏–±–∫–∞!');
        }
    }, 1000);
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Promise
myPromise
    .then(result => {
        console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result);
        return result.toUpperCase();
    })
    .then(upperResult => {
        console.log('–í–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä:', upperResult);
    })
    .catch(error => {
        console.error('–û—à–∏–±–∫–∞:', error);
    })
    .finally(() => {
        console.log('–ó–∞–≤–µ—Ä—à–µ–Ω–æ');
    });

// Promise.all - –≤—Å–µ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è
Promise.all([promise1, promise2, promise3])
    .then(results => {
        console.log('–í—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:', results);
    });

// Promise.race - –ø–µ—Ä–≤—ã–π –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è
Promise.race([promise1, promise2])
    .then(result => {
        console.log('–ü–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
    });</code>
            </div>
        </div>

        <div class="content-section">
            <h2>‚ö° Async/Await</h2>

            <div class="code-example">
                <code>// –§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è Promise
function delay(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

// Async —Ñ—É–Ω–∫—Ü–∏—è
async function asyncExample() {
    try {
        console.log('–ù–∞—á–∞–ª–æ');
        
        await delay(1000);
        console.log('–ü—Ä–æ—à–ª–∞ 1 —Å–µ–∫—É–Ω–¥–∞');
        
        const result = await fetchData();
        console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã:', result);
        
        await delay(500);
        console.log('–ï—â–µ –ø–æ–ª—Å–µ–∫—É–Ω–¥—ã');
        
        return '–ì–æ—Ç–æ–≤–æ!';
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error);
    }
}

// –í—ã–∑–æ–≤ async —Ñ—É–Ω–∫—Ü–∏–∏
asyncExample().then(result => {
    console.log('–§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
});

// –ü—Ä–∏–º–µ—Ä —Å fetch API
async function fetchUserData(userId) {
    try {
        const response = await fetch(`https://api.example.com/users/${userId}`);
        const userData = await response.json();
        return userData;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
        throw error;
    }
}</code>
            </div>
        </div>

        <div class="content-section">
            <h2>üåê –†–∞–±–æ—Ç–∞ —Å API</h2>

            <div class="code-example">
                <code>// Fetch API
async function getPosts() {
    try {
        const response = await fetch('https://jsonplaceholder.typicode.com/posts');
        
        if (!response.ok) {
            throw new Error(`HTTP –æ—à–∏–±–∫–∞! —Å—Ç–∞—Ç—É—Å: ${response.status}`);
        }
        
        const posts = await response.json();
        console.log('–ü–æ—Å—Ç—ã:', posts);
        return posts;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–æ—Å—Ç–æ–≤:', error);
    }
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
async function createPost(title, body) {
    try {
        const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                title: title,
                body: body,
                userId: 1,
            }),
        });
        
        const newPost = await response.json();
        console.log('–°–æ–∑–¥–∞–Ω –ø–æ—Å—Ç:', newPost);
        return newPost;
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞:', error);
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
getPosts();
createPost('–ú–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫', '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞');</code>
            </div>
        </div>

        <div class="navigation">
            <a href="course-js.html" class="nav-button">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>
            <button onclick="markLectureCompleted(8)" class="nav-button" style="border: none; cursor: pointer;">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –ª–µ–∫—Ü–∏—é</button>
            <a href="js-lecture-9.html" class="nav-button">–°–ª–µ–¥—É—é—â–∞—è –ª–µ–∫—Ü–∏—è ‚Üí</a>
        </div>

        <script>
            function markLectureCompleted(lectureNum) {
                const completedLectures = JSON.parse(localStorage.getItem('completedJSLectures') || '[]');
                if (!completedLectures.includes(lectureNum)) {
                    completedLectures.push(lectureNum);
                    localStorage.setItem('completedJSLectures', JSON.stringify(completedLectures));
                    alert('–õ–µ–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! üéâ');
                }
            }
        </script>
    </div>
</body>
</html>