<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–¥–∞–Ω–∏–µ 4: –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ - CodeLearn</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            line-height: 1.6;
        }
        .header {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { font-size: 1.8em; font-weight: bold; text-decoration: none; color: white; }
        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            text-decoration: none;
            transition: background 0.3s ease;
        }
        .back-btn:hover { background: rgba(255, 255, 255, 0.3); }
        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .assignment-header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
        }
        .assignment-title {
            font-size: 2.5em;
            margin-bottom: 15px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .assignment-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .content-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        .content-section h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .content-section h3 {
            color: #ffd700;
            margin: 25px 0 15px 0;
            font-size: 1.4em;
        }
        .content-section p { margin-bottom: 15px; font-size: 1.1em; }
        .code-example {
            background: rgba(0, 0, 0, 0.4);
            border-left: 4px solid #ffd700;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .code-example code {
            color: #00ff00;
            font-size: 0.95em;
            line-height: 1.5;
        }
        .task-box {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .task-box h4 {
            color: #ffd700;
            margin-bottom: 10px;
        }
        .solution-box {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .solution-box h4 {
            color: #51cf66;
            margin-bottom: 10px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        .nav-button {
            background: #ffd700;
            color: #333;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease;
        }
        .nav-button:hover { transform: translateY(-2px); }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <a href="courses.html" class="logo">üöÄ CodeLearn</a>
            <a href="course-kotlin.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>
        </div>
    </header>

    <div class="container">
        <div class="assignment-header">
            <h1 class="assignment-title">–ó–∞–¥–∞–Ω–∏–µ 4: –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h1>
            <div class="assignment-meta">
                <span>üÖ∫ Kotlin</span>
                <span>‚è±Ô∏è 75 –º–∏–Ω—É—Ç</span>
                <span>üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ</span>
            </div>
        </div>

        <div class="content-section">
            <h2>üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>
            <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ Kotlin. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∑–≤–æ–ª—è—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å, –∏—Å–∫–∞—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –∏—Ö –æ—Ü–µ–Ω–∫–∞–º–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.</p>
        </div>

        <div class="content-section">
            <h2>üéØ –¶–µ–ª–∏ –∑–∞–¥–∞–Ω–∏—è</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–†–∞–±–æ—Ç–∞—Ç—å —Å –∫–ª–∞—Å—Å–∞–º–∏ –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏</li>
                <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
                <li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é</li>
                <li>–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é</li>
                <li>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥</li>
                <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å data –∫–ª–∞—Å—Å—ã</li>
            </ul>
        </div>

        <div class="task-box">
            <h4>üìù –ó–∞–¥–∞—á–∞</h4>
            <p>–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å—ã <code>Student</code>, <code>Grade</code> –∏ —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.</p>
        </div>

        <div class="content-section">
            <h2>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ data class –¥–ª—è Student –∏ Grade</li>
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MutableList –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</li>
                <li>–î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤–≤–æ–¥–µ</li>
                <li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏ –Ω–æ–º–µ—Ä—É —Å—Ç—É–¥–µ–Ω—Ç–∞</li>
                <li>–î–æ–±–∞–≤—å—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–æ–ª—è–º</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è</h2>
            
            <h3>1. –°–æ–∑–¥–∞–π—Ç–µ data –∫–ª–∞—Å—Å—ã</h3>
            <div class="code-example">
                <code>data class Grade(val subject: String, val score: Double, val date: String)

data class Student(
    val id: String,
    val name: String,
    val email: String,
    val phone: String,
    val grades: MutableList<Grade> = mutableListOf()
)</code>
            </div>

            <h3>2. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å StudentManager</h3>
            <div class="code-example">
                <code>class StudentManager {
    private val students = mutableListOf<Student>()
    
    // –ú–µ—Ç–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏
    fun addStudent(student: Student)
    fun removeStudent(id: String): Boolean
    fun findStudentById(id: String): Student?
    fun findStudentByName(name: String): List<Student>
    fun displayAllStudents()
    fun addGradeToStudent(id: String, grade: Grade): Boolean
}</code>
            </div>

            <h3>3. –°–æ–∑–¥–∞–π—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h3>
            <div class="code-example">
                <code>fun main() {
    val manager = StudentManager()
    
    while (true) {
        println("\n=== –°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø –°–¢–£–î–ï–ù–¢–ê–ú–ò ===")
        // –ú–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏
    }
}</code>
            </div>
        </div>

        <div class="content-section">
            <h2>üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã</h2>
            <div class="code-example">
                <code>=== –°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø –°–¢–£–î–ï–ù–¢–ê–ú–ò ===
1. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
2. –£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
3. –ù–∞–π—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞
4. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
5. –î–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É —Å—Ç—É–¥–µ–Ω—Ç—É
6. –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
7. –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
0. –í—ã—Ö–æ–¥

–í–∞—à –≤—ã–±–æ—Ä: 1

–í–≤–µ–¥–∏—Ç–µ ID —Å—Ç—É–¥–µ–Ω—Ç–∞: S001
–í–≤–µ–¥–∏—Ç–µ –∏–º—è: –ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤
–í–≤–µ–¥–∏—Ç–µ email: alexey@example.com
–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω: +7-123-456-7890
–°—Ç—É–¥–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!

=== –°–ü–ò–°–û–ö –°–¢–£–î–ï–ù–¢–û–í ===
ID: S001, –ò–º—è: –ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤, Email: alexey@example.com
ID: S002, –ò–º—è: –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞, Email: maria@example.com
–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: 4.2</code>
            </div>
        </div>

        <div class="content-section">
            <h2>üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong> –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –≥—Ä—É–ø–ø—ã, –ª—É—á—à–∏–µ/—Ö—É–¥—à–∏–µ —Å—Ç—É–¥–µ–Ω—Ç—ã</li>
                <li><strong>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:</strong> –ü–æ –æ—Ü–µ–Ω–∫–∞–º, —Ñ–∞–∫—É–ª—å—Ç–µ—Ç—É, –≥–æ–¥—É –æ–±—É—á–µ–Ω–∏—è</li>
                <li><strong>–≠–∫—Å–ø–æ—Ä—Ç:</strong> –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª</li>
                <li><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è:</strong> –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ email, —Ç–µ–ª–µ—Ñ–æ–Ω–∞</li>
                <li><strong>–ü–æ–∏—Å–∫:</strong> –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–º–µ–Ω</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (40%):</strong> CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏</li>
                <li><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (25%):</strong> –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ data –∫–ª–∞—Å—Å–æ–≤</li>
                <li><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (20%):</strong> –ü–æ–Ω—è—Ç–Ω–æ–µ –º–µ–Ω—é –∏ —Å–æ–æ–±—â–µ–Ω–∏—è</li>
                <li><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è (15%):</strong> –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞</li>
            </ul>
        </div>

        <div class="solution-box">
            <h4>üí° –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è</h4>
            <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è:</p>
            <button onclick="toggleSolution()" class="nav-button" style="margin-top: 15px;">
                –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ
            </button>
            
            <div id="solution" style="display: none; margin-top: 20px;">
                <div class="code-example">
                    <code>data class Grade(val subject: String, val score: Double, val date: String) {
    override fun toString(): String = "$subject: $score ($date)"
}

data class Student(
    val id: String,
    val name: String,
    val email: String,
    val phone: String,
    val grades: MutableList<Grade> = mutableListOf()
) {
    fun getAverageGrade(): Double {
        return if (grades.isEmpty()) 0.0 else grades.sumOf { it.score } / grades.size
    }
    
    fun getHighestGrade(): Grade? {
        return grades.maxByOrNull { it.score }
    }
    
    fun getLowestGrade(): Grade? {
        return grades.minByOrNull { it.score }
    }
    
    override fun toString(): String {
        val avgGrade = if (grades.isEmpty()) "–ù–µ—Ç –æ—Ü–µ–Ω–æ–∫" else String.format("%.2f", getAverageGrade())
        return "ID: $id, –ò–º—è: $name, Email: $email, –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: $avgGrade"
    }
}

class StudentManager {
    private val students = mutableListOf<Student>()
    
    fun addStudent(student: Student): Boolean {
        return if (findStudentById(student.id) == null) {
            students.add(student)
            true
        } else {
            false // –°—Ç—É–¥–µ–Ω—Ç —Å —Ç–∞–∫–∏–º ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        }
    }
    
    fun removeStudent(id: String): Boolean {
        return students.removeIf { it.id == id }
    }
    
    fun findStudentById(id: String): Student? {
        return students.find { it.id == id }
    }
    
    fun findStudentByName(name: String): List<Student> {
        return students.filter { it.name.contains(name, ignoreCase = true) }
    }
    
    fun findStudentByEmail(email: String): Student? {
        return students.find { it.email == email }
    }
    
    fun displayAllStudents() {
        if (students.isEmpty()) {
            println("–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø—É—Å—Ç")
            return
        }
        
        println("\\n=== –°–ü–ò–°–û–ö –°–¢–£–î–ï–ù–¢–û–í ===")
        students.forEach { println(it) }
    }
    
    fun addGradeToStudent(id: String, grade: Grade): Boolean {
        val student = findStudentById(id)
        return if (student != null) {
            student.grades.add(grade)
            true
        } else {
            false
        }
    }
    
    fun getStatistics(): Map<String, Any> {
        val totalStudents = students.size
        val studentsWithGrades = students.count { it.grades.isNotEmpty() }
        val averageGroupScore = if (students.isNotEmpty()) {
            students.map { it.getAverageGrade() }.average()
        } else 0.0
        
        val bestStudent = students.maxByOrNull { it.getAverageGrade() }
        val worstStudent = students.minByOrNull { it.getAverageGrade() }
        
        return mapOf(
            "totalStudents" to totalStudents,
            "studentsWithGrades" to studentsWithGrades,
            "averageGroupScore" to averageGroupScore,
            "bestStudent" to bestStudent,
            "worstStudent" to worstStudent
        )
    }
    
    fun sortStudents(by: String): List<Student> {
        return when (by.lowercase()) {
            "name" -> students.sortedBy { it.name }
            "id" -> students.sortedBy { it.id }
            "average" -> students.sortedByDescending { it.getAverageGrade() }
            else -> students
        }
    }
    
    fun filterStudents(minAverage: Double): List<Student> {
        return students.filter { it.getAverageGrade() >= minAverage }
    }
}

object StudentInputValidator {
    fun isValidEmail(email: String): Boolean {
        return email.contains("@") && email.contains(".")
    }
    
    fun isValidPhone(phone: String): Boolean {
        return phone.matches(Regex("\\+?[0-9\\-\\s\\(\\)]{10,}"))
    }
    
    fun isValidGrade(score: Double): Boolean {
        return score in 1.0..5.0
    }
}

fun main() {
    val manager = StudentManager()
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
    manager.addStudent(Student("S001", "–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤", "alexey@example.com", "+7-123-456-7890"))
    manager.addStudent(Student("S002", "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞", "maria@example.com", "+7-234-567-8901"))
    manager.addStudent(Student("S003", "–ò–≤–∞–Ω –°–∏–¥–æ—Ä–æ–≤", "ivan@example.com", "+7-345-678-9012"))
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ü–µ–Ω–∫–∏
    manager.addGradeToStudent("S001", Grade("–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞", 4.5, "2024-01-15"))
    manager.addGradeToStudent("S001", Grade("–§–∏–∑–∏–∫–∞", 4.0, "2024-01-20"))
    manager.addGradeToStudent("S002", Grade("–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞", 5.0, "2024-01-15"))
    manager.addGradeToStudent("S002", Grade("–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", 4.8, "2024-01-18"))
    
    while (true) {
        println("\\n=== –°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø –°–¢–£–î–ï–ù–¢–ê–ú–ò ===")
        println("1. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞")
        println("2. –£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞")
        println("3. –ù–∞–π—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞")
        println("4. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤")
        println("5. –î–æ–±–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É —Å—Ç—É–¥–µ–Ω—Ç—É")
        println("6. –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É")
        println("7. –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤")
        println("8. –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤")
        println("0. –í—ã—Ö–æ–¥")
        
        print("–í–∞—à –≤—ã–±–æ—Ä: ")
        val choice = readLine()?.toIntOrNull()
        
        when (choice) {
            0 -> {
                println("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã!")
                break
            }
            1 -> addStudent(manager)
            2 -> removeStudent(manager)
            3 -> findStudent(manager)
            4 -> manager.displayAllStudents()
            5 -> addGrade(manager)
            6 -> showStatistics(manager)
            7 -> sortStudents(manager)
            8 -> filterStudents(manager)
            else -> println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")
        }
    }
}

fun addStudent(manager: StudentManager) {
    print("–í–≤–µ–¥–∏—Ç–µ ID —Å—Ç—É–¥–µ–Ω—Ç–∞: ")
    val id = readLine()?.trim() ?: ""
    
    if (manager.findStudentById(id) != null) {
        println("–°—Ç—É–¥–µ–Ω—Ç —Å —Ç–∞–∫–∏–º ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!")
        return
    }
    
    print("–í–≤–µ–¥–∏—Ç–µ –∏–º—è: ")
    val name = readLine()?.trim() ?: ""
    
    print("–í–≤–µ–¥–∏—Ç–µ email: ")
    val email = readLine()?.trim() ?: ""
    if (!StudentInputValidator.isValidEmail(email)) {
        println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email!")
        return
    }
    
    print("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω: ")
    val phone = readLine()?.trim() ?: ""
    if (!StudentInputValidator.isValidPhone(phone)) {
        println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞!")
        return
    }
    
    val student = Student(id, name, email, phone)
    if (manager.addStudent(student)) {
        println("–°—Ç—É–¥–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!")
    } else {
        println("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞")
    }
}

fun removeStudent(manager: StudentManager) {
    print("–í–≤–µ–¥–∏—Ç–µ ID —Å—Ç—É–¥–µ–Ω—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è: ")
    val id = readLine()?.trim() ?: ""
    
    if (manager.removeStudent(id)) {
        println("–°—Ç—É–¥–µ–Ω—Ç —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ")
    } else {
        println("–°—Ç—É–¥–µ–Ω—Ç —Å —Ç–∞–∫–∏–º ID –Ω–µ –Ω–∞–π–¥–µ–Ω")
    }
}

fun findStudent(manager: StudentManager) {
    println("–ü–æ–∏—Å–∫ –ø–æ:")
    println("1. ID")
    println("2. –ò–º–µ–Ω–∏")
    println("3. Email")
    
    print("–í–∞—à –≤—ã–±–æ—Ä: ")
    val searchType = readLine()?.toIntOrNull()
    
    when (searchType) {
        1 -> {
            print("–í–≤–µ–¥–∏—Ç–µ ID: ")
            val id = readLine()?.trim() ?: ""
            val student = manager.findStudentById(id)
            if (student != null) {
                println("–ù–∞–π–¥–µ–Ω —Å—Ç—É–¥–µ–Ω—Ç: $student")
                if (student.grades.isNotEmpty()) {
                    println("–û—Ü–µ–Ω–∫–∏:")
                    student.grades.forEach { println("  $it") }
                }
            } else {
                println("–°—Ç—É–¥–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω")
            }
        }
        2 -> {
            print("–í–≤–µ–¥–∏—Ç–µ –∏–º—è: ")
            val name = readLine()?.trim() ?: ""
            val students = manager.findStudentByName(name)
            if (students.isNotEmpty()) {
                println("–ù–∞–π–¥–µ–Ω–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: ${students.size}")
                students.forEach { println(it) }
            } else {
                println("–°—Ç—É–¥–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")
            }
        }
        3 -> {
            print("–í–≤–µ–¥–∏—Ç–µ email: ")
            val email = readLine()?.trim() ?: ""
            val student = manager.findStudentByEmail(email)
            if (student != null) {
                println("–ù–∞–π–¥–µ–Ω —Å—Ç—É–¥–µ–Ω—Ç: $student")
            } else {
                println("–°—Ç—É–¥–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω")
            }
        }
    }
}

fun addGrade(manager: StudentManager) {
    print("–í–≤–µ–¥–∏—Ç–µ ID —Å—Ç—É–¥–µ–Ω—Ç–∞: ")
    val id = readLine()?.trim() ?: ""
    
    val student = manager.findStudentById(id)
    if (student == null) {
        println("–°—Ç—É–¥–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω")
        return
    }
    
    print("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç: ")
    val subject = readLine()?.trim() ?: ""
    
    print("–í–≤–µ–¥–∏—Ç–µ –æ—Ü–µ–Ω–∫—É (1.0-5.0): ")
    val score = readLine()?.toDoubleOrNull()
    if (score == null || !StudentInputValidator.isValidGrade(score)) {
        println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞!")
        return
    }
    
    print("–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É (–ì–ì–ì–ì-–ú–ú-–î–î): ")
    val date = readLine()?.trim() ?: ""
    
    val grade = Grade(subject, score, date)
    if (manager.addGradeToStudent(id, grade)) {
        println("–û—Ü–µ–Ω–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ")
    } else {
        println("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ—Ü–µ–Ω–∫–∏")
    }
}

fun showStatistics(manager: StudentManager) {
    val stats = manager.getStatistics()
    println("\\n=== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ===")
    println("–í—Å–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤: ${stats["totalStudents"]}")
    println("–°—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –æ—Ü–µ–Ω–∫–∞–º–∏: ${stats["studentsWithGrades"]}")
    println("–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª –≥—Ä—É–ø–ø—ã: ${String.format("%.2f", stats["averageGroupScore"] as Double)}")
    
    val bestStudent = stats["bestStudent"] as? Student
    val worstStudent = stats["worstStudent"] as? Student
    
    if (bestStudent != null) {
        println("–õ—É—á—à–∏–π —Å—Ç—É–¥–µ–Ω—Ç: ${bestStudent.name} (${String.format("%.2f", bestStudent.getAverageGrade())})")
    }
    
    if (worstStudent != null) {
        println("–°—Ç—É–¥–µ–Ω—Ç —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –±–∞–ª–ª–æ–º: ${worstStudent.name} (${String.format("%.2f", worstStudent.getAverageGrade())})")
    }
}

fun sortStudents(manager: StudentManager) {
    println("–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ:")
    println("1. –ò–º–µ–Ω–∏")
    println("2. ID")
    println("3. –°—Ä–µ–¥–Ω–µ–º—É –±–∞–ª–ª—É")
    
    print("–í–∞—à –≤—ã–±–æ—Ä: ")
    val sortBy = readLine()?.toIntOrNull()
    
    val sortedList = when (sortBy) {
        1 -> manager.sortStudents("name")
        2 -> manager.sortStudents("id")
        3 -> manager.sortStudents("average")
        else -> manager.students
    }
    
    println("\\n–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫:")
    sortedList.forEach { println(it) }
}

fun filterStudents(manager: StudentManager) {
    print("–í–≤–µ–¥–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª: ")
    val minAverage = readLine()?.toDoubleOrNull()
    
    if (minAverage == null) {
        println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ!")
        return
    }
    
    val filtered = manager.filterStudents(minAverage)
    println("\\n–°—Ç—É–¥–µ–Ω—Ç—ã —Å –±–∞–ª–ª–æ–º >= $minAverage:")
    if (filtered.isEmpty()) {
        println("–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")
    } else {
        filtered.forEach { println(it) }
    }
}</code>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏—è</h2>
            <p>–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å:</p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª JSON –∏–ª–∏ CSV</li>
                <li>–ì–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</li>
                <li>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—è—Ö</li>
                <li>–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</li>
                <li>–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞</li>
            </ul>
        </div>

        <div class="navigation">
            <a href="course-kotlin.html" class="nav-button">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>
            <button onclick="markAssignmentCompleted(4)" class="nav-button" style="border: none; cursor: pointer;">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
            <a href="kotlin-assignment-5.html" class="nav-button">–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Üí</a>
        </div>
        
        <script>
            function toggleSolution() {
                const solution = document.getElementById('solution');
                const button = event.target;
                
                if (solution.style.display === 'none') {
                    solution.style.display = 'block';
                    button.textContent = '–°–∫—Ä—ã—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
                } else {
                    solution.style.display = 'none';
                    button.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
                }
            }
            
            function markAssignmentCompleted(assignmentNum) {
                const completedAssignments = JSON.parse(localStorage.getItem('completedKotlinAssignments') || '[]');
                if (!completedAssignments.includes(assignmentNum)) {
                    completedAssignments.push(assignmentNum);
                    localStorage.setItem('completedKotlinAssignments', JSON.stringify(completedAssignments));
                    alert('–ó–∞–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! üéì');
                } else {
                    alert('–≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —É–∂–µ –æ—Ç–º–µ—á–µ–Ω–æ –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ.');
                }
            }
        </script>
    </div>
</body>
</html>