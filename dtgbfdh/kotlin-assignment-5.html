<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–¥–∞–Ω–∏–µ 5: –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç - CodeLearn</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            line-height: 1.6;
        }
        .header {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { font-size: 1.8em; font-weight: bold; text-decoration: none; color: white; }
        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            text-decoration: none;
            transition: background 0.3s ease;
        }
        .back-btn:hover { background: rgba(255, 255, 255, 0.3); }
        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        .assignment-header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
        }
        .assignment-title {
            font-size: 2.5em;
            margin-bottom: 15px;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .assignment-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .content-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        .content-section h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .content-section h3 {
            color: #ffd700;
            margin: 25px 0 15px 0;
            font-size: 1.4em;
        }
        .content-section p { margin-bottom: 15px; font-size: 1.1em; }
        .code-example {
            background: rgba(0, 0, 0, 0.4);
            border-left: 4px solid #ffd700;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .code-example code {
            color: #00ff00;
            font-size: 0.95em;
            line-height: 1.5;
        }
        .task-box {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .task-box h4 {
            color: #ffd700;
            margin-bottom: 10px;
        }
        .solution-box {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .solution-box h4 {
            color: #51cf66;
            margin-bottom: 10px;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        .nav-button {
            background: #ffd700;
            color: #333;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease;
        }
        .nav-button:hover { transform: translateY(-2px); }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <a href="courses.html" class="logo">üöÄ CodeLearn</a>
            <a href="course-kotlin.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>
        </div>
    </header>

    <div class="container">
        <div class="assignment-header">
            <h1 class="assignment-title">–ó–∞–¥–∞–Ω–∏–µ 5: –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç</h1>
            <div class="assignment-meta">
                <span>üÖ∫ Kotlin</span>
                <span>‚è±Ô∏è 90 –º–∏–Ω—É—Ç</span>
                <span>üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ</span>
            </div>
        </div>

        <div class="content-section">
            <h2>üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</h2>
            <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–æ–≤ –Ω–∞ Kotlin —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∏ —Å–∏—Å—Ç–µ–º–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p>
        </div>

        <div class="content-section">
            <h2>üéØ –¶–µ–ª–∏ –∑–∞–¥–∞–Ω–∏—è</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–†–∞–±–æ—Ç–∞—Ç—å —Å –∫–ª–∞—Å—Å–∞–º–∏ –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º</li>
                <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
                <li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π</li>
                <li>–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤ —Å—á–µ—Ç–æ–≤</li>
                <li>–†–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º</li>
                <li>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</li>
            </ul>
        </div>

        <div class="task-box">
            <h4>üìù –ó–∞–¥–∞—á–∞</h4>
            <p>–°–æ–∑–¥–∞–π—Ç–µ –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Ç–∏–ø–æ–≤ —Å—á–µ—Ç–æ–≤ (—Ç–µ–∫—É—â–∏–π, —Å–±–µ—Ä–µ–≥–∞—Ç–µ–ª—å–Ω—ã–π, –¥–µ–ø–æ–∑–∏—Ç–Ω—ã–π).</p>
        </div>

        <div class="content-section">
            <h2>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å Account –∫–∞–∫ –±–∞–∑–æ–≤—ã–π</li>
                <li>–°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Transaction –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π</li>
                <li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é PIN-–∫–æ–¥–æ–≤</li>
                <li>–î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
                <li>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è</h2>
            
            <h3>1. –°–æ–∑–¥–∞–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å Account</h3>
            <div class="code-example">
                <code>abstract class Account(
    val accountNumber: String,
    val ownerName: String,
    var pin: String,
    var balance: Double = 0.0
) {
    // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞
    abstract val accountType: String
    abstract val interestRate: Double
}</code>
            </div>

            <h3>2. –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Transaction</h3>
            <div class="code-example">
                <code>interface Transaction {
    fun deposit(amount: Double, pin: String): Boolean
    fun withdraw(amount: Double, pin: String): Boolean
    fun transfer(to: Account, amount: Double, pin: String): Boolean
    fun getTransactionHistory(): List<TransactionRecord>
}</code>
            </div>

            <h3>3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Å—á–µ—Ç–æ–≤</h3>
            <div class="code-example">
                <code>class CheckingAccount(accountNumber: String, ownerName: String, pin: String) : 
    Account(accountNumber, ownerName, pin), Transaction

class SavingsAccount(accountNumber: String, ownerName: String, pin: String) : 
    Account(accountNumber, ownerName, pin), Transaction

class DepositAccount(accountNumber: String, ownerName: String, pin: String, val term: Int) : 
    Account(accountNumber, ownerName, pin), Transaction</code>
            </div>
        </div>

        <div class="content-section">
            <h2>üìä –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã</h2>
            <div class="code-example">
                <code>=== –ë–ê–ù–ö–û–í–°–ö–ê–Ø –°–ò–°–¢–ï–ú–ê ===
–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
1. –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç
2. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
3. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å—á–µ—Ç–∞
0. –í—ã—Ö–æ–¥

–í–∞—à –≤—ã–±–æ—Ä: 1
–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å—á–µ—Ç–∞:
1. –¢–µ–∫—É—â–∏–π —Å—á–µ—Ç
2. –°–±–µ—Ä–µ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å—á–µ—Ç
3. –î–µ–ø–æ–∑–∏—Ç–Ω—ã–π —Å—á–µ—Ç

=== –†–ê–ë–û–¢–ê –°–û –°–ß–ï–¢–û–ú ===
–°—á–µ—Ç: 1234567890 (–¢–µ–∫—É—â–∏–π)
–í–ª–∞–¥–µ–ª–µ—Ü: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
–ë–∞–ª–∞–Ω—Å: 25,000.00 —Ä—É–±.
1. –ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á–µ—Ç
2. –°–Ω—è—Ç—å –¥–µ–Ω—å–≥–∏
3. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏
4. –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
5. –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
6. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—á–µ—Ç–µ
0. –í—ã–π—Ç–∏

–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
–ë–∞–ª–∞–Ω—Å: 26,500.00 —Ä—É–±.</code>
            </div>
        </div>

        <div class="content-section">
            <h2>üí∞ –¢–∏–ø—ã —Å—á–µ—Ç–æ–≤</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç:</strong> –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç</li>
                <li><strong>–°–±–µ—Ä–µ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å—á–µ—Ç:</strong> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç</li>
                <li><strong>–î–µ–ø–æ–∑–∏—Ç–Ω—ã–π —Å—á–µ—Ç:</strong> –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ä–æ–∫, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>üîí –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–í–∞–ª–∏–¥–∞—Ü–∏—è PIN-–∫–æ–¥–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
                <li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤–≤–æ–¥–∞ PIN</li>
                <li>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
                <li>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤</li>
                <li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ç–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏</h2>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (35%):</strong> –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –û–û–ü –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</li>
                <li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (30%):</strong> –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
                <li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (20%):</strong> –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</li>
                <li><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (15%):</strong> –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
            </ul>
        </div>

        <div class="solution-box">
            <h4>üí° –ü—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è</h4>
            <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä —Ä–µ—à–µ–Ω–∏—è:</p>
            <button onclick="toggleSolution()" class="nav-button" style="margin-top: 15px;">
                –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ
            </button>
            
            <div id="solution" style="display: none; margin-top: 20px;">
                <div class="code-example">
                    <code>import java.time.LocalDateTime
import java.time.format.DateTimeFormatter

data class TransactionRecord(
    val type: String,
    val amount: Double,
    val timestamp: LocalDateTime,
    val description: String
) {
    override fun toString(): String {
        val time = timestamp.format(DateTimeFormatter.ofPattern("dd.MM.yyyy HH:mm"))
        return "[$time] $type: ${String.format("%.2f", amount)} —Ä—É–±. - $description"
    }
}

interface Transaction {
    fun deposit(amount: Double, pin: String): Boolean
    fun withdraw(amount: Double, pin: String): Boolean
    fun transfer(to: Account, amount: Double, pin: String): Boolean
    fun getTransactionHistory(): List<TransactionRecord>
    fun addTransaction(type: String, amount: Double, description: String)
}

abstract class Account(
    val accountNumber: String,
    val ownerName: String,
    var pin: String,
    var balance: Double = 0.0
) : Transaction {
    protected val transactions = mutableListOf<TransactionRecord>()
    var failedPinAttempts = 0
    private val maxPinAttempts = 3
    
    abstract val accountType: String
    abstract val interestRate: Double
    abstract val withdrawalLimit: Double
    abstract val monthlyFee: Double
    
    fun changePin(oldPin: String, newPin: String): Boolean {
        return if (oldPin == pin) {
            pin = newPin
            failedPinAttempts = 0
            addTransaction("PIN_CHANGE", 0.0, "PIN –∏–∑–º–µ–Ω–µ–Ω")
            true
        } else {
            failedPinAttempts++
            false
        }
    }
    
    fun isAccountBlocked(): Boolean = failedPinAttempts >= maxPinAttempts
    
    fun resetPinAttempts() {
        failedPinAttempts = 0
    }
    
    fun getAccountInfo(): String {
        return """
            –ù–æ–º–µ—Ä —Å—á–µ—Ç–∞: $accountNumber
            –í–ª–∞–¥–µ–ª–µ—Ü: $ownerName
            –¢–∏–ø: $accountType
            –ë–∞–ª–∞–Ω—Å: ${String.format("%.2f", balance)} —Ä—É–±.
            –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞: ${String.format("%.2f", interestRate * 100)}%
            ${if (isAccountBlocked()) "–°–ß–ï–¢ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù!" else ""}
        """.trimIndent()
    }
    
    protected fun validatePin(inputPin: String): Boolean {
        return if (inputPin == pin && !isAccountBlocked()) {
            resetPinAttempts()
            true
        } else {
            failedPinAttempts++
            false
        }
    }
    
    override fun addTransaction(type: String, amount: Double, description: String) {
        transactions.add(TransactionRecord(type, amount, LocalDateTime.now(), description))
    }
}

class CheckingAccount(
    accountNumber: String,
    ownerName: String,
    pin: String
) : Account(accountNumber, ownerName, pin), Transaction {
    
    override val accountType: String = "–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç"
    override val interestRate: Double = 0.01  // 1% –≥–æ–¥–æ–≤—ã—Ö
    override val withdrawalLimit: Double = Double.MAX_VALUE  // –ë–µ–∑ –ª–∏–º–∏—Ç–∞
    override val monthlyFee: Double = 300.0   // 300 —Ä—É–±/–º–µ—Å—è—Ü
    
    override fun deposit(amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && validatePin(inputPin)) {
            balance += amount
            addTransaction("DEPOSIT", amount, "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞")
            true
        } else {
            false
        }
    }
    
    override fun withdraw(amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && amount <= balance && validatePin(inputPin)) {
            balance -= amount
            addTransaction("WITHDRAWAL", -amount, "–°–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö")
            true
        } else {
            false
        }
    }
    
    override fun transfer(to: Account, amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && amount <= balance && validatePin(inputPin)) {
            if (to.deposit(amount, "0000")) {  // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π PIN –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
                balance -= amount
                addTransaction("TRANSFER", -amount, "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Å—á–µ—Ç ${to.accountNumber}")
                true
            } else {
                false
            }
        } else {
            false
        }
    }
    
    override fun getTransactionHistory(): List<TransactionRecord> = transactions.toList()
}

class SavingsAccount(
    accountNumber: String,
    ownerName: String,
    pin: String
) : Account(accountNumber, ownerName, pin), Transaction {
    
    private var lastInterestDate = LocalDateTime.now()
    private val minBalance = 1000.0  // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫
    
    override val accountType: String = "–°–±–µ—Ä–µ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å—á–µ—Ç"
    override val interestRate: Double = 0.05  // 5% –≥–æ–¥–æ–≤—ã—Ö
    override val withdrawalLimit: Double = 50000.0  // –õ–∏–º–∏—Ç —Å–Ω—è—Ç–∏—è 50,000 —Ä—É–±/–º–µ—Å—è—Ü
    override val monthlyFee: Double = 0.0   // –ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏
    
    private var monthlyWithdrawals = 0.0
    
    override fun deposit(amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && validatePin(inputPin)) {
            balance += amount
            addTransaction("DEPOSIT", amount, "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞")
            true
        } else {
            false
        }
    }
    
    override fun withdraw(amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && amount <= balance - minBalance && 
                   monthlyWithdrawals + amount <= withdrawalLimit && validatePin(inputPin)) {
            balance -= amount
            monthlyWithdrawals += amount
            addTransaction("WITHDRAWAL", -amount, "–°–Ω—è—Ç–∏–µ –Ω–∞–ª–∏—á–Ω—ã—Ö")
            true
        } else {
            false
        }
    }
    
    override fun transfer(to: Account, amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && amount <= balance - minBalance && 
                   monthlyWithdrawals + amount <= withdrawalLimit && validatePin(inputPin)) {
            if (to.deposit(amount, "0000")) {
                balance -= amount
                monthlyWithdrawals += amount
                addTransaction("TRANSFER", -amount, "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Å—á–µ—Ç ${to.accountNumber}")
                true
            } else {
                false
            }
        } else {
            false
        }
    }
    
    fun resetMonthlyLimits() {
        monthlyWithdrawals = 0.0
        lastInterestDate = LocalDateTime.now()
    }
    
    fun calculateInterest(): Double {
        val currentDate = LocalDateTime.now()
        val monthsPassed = java.time.temporal.ChronoUnit.MONTHS.between(lastInterestDate, currentDate)
        
        if (monthsPassed > 0) {
            val interest = balance * interestRate / 12 * monthsPassed
            addTransaction("INTEREST", interest, "–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤")
            lastInterestDate = currentDate
            return interest
        }
        return 0.0
    }
    
    override fun getTransactionHistory(): List<TransactionRecord> = transactions.toList()
}

class DepositAccount(
    accountNumber: String,
    ownerName: String,
    pin: String,
    val term: Int  // –°—Ä–æ–∫ –≤ –º–µ—Å—è—Ü–∞—Ö
) : Account(accountNumber, ownerName, pin, 0.0), Transaction {
    
    private val depositAmount: Double = 0.0
    private var startDate = LocalDateTime.now()
    
    override val accountType: String = "–î–µ–ø–æ–∑–∏—Ç–Ω—ã–π —Å—á–µ—Ç"
    override val interestRate: Double = 0.08  // 8% –≥–æ–¥–æ–≤—ã—Ö
    override val withdrawalLimit: Double = 0.0  // –ù–µ–ª—å–∑—è —Å–Ω–∏–º–∞—Ç—å –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞
    override val monthlyFee: Double = 0.0   // –ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏
    
    init {
        startDate = LocalDateTime.now()
    }
    
    fun canWithdraw(): Boolean {
        val monthsPassed = java.time.temporal.ChronoUnit.MONTHS.between(startDate, LocalDateTime.now())
        return monthsPassed >= term
    }
    
    override fun deposit(amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && validatePin(inputPin)) {
            balance += amount
            addTransaction("DEPOSIT", amount, "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞")
            true
        } else {
            false
        }
    }
    
    override fun withdraw(amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && amount <= balance && canWithdraw() && validatePin(inputPin)) {
            balance -= amount
            addTransaction("WITHDRAWAL", -amount, "–î–æ—Å—Ä–æ—á–Ω–æ–µ —Å–Ω—è—Ç–∏–µ —Å –¥–µ–ø–æ–∑–∏—Ç–∞")
            true
        } else {
            false
        }
    }
    
    override fun transfer(to: Account, amount: Double, inputPin: String): Boolean {
        return if (amount > 0 && amount <= balance && canWithdraw() && validatePin(inputPin)) {
            if (to.deposit(amount, "0000")) {
                balance -= amount
                addTransaction("TRANSFER", -amount, "–ü–µ—Ä–µ–≤–æ–¥ —Å –¥–µ–ø–æ–∑–∏—Ç–∞")
                true
            } else {
                false
            }
        } else {
            false
        }
    }
    
    fun calculateMaturityAmount(): Double {
        val monthsPassed = java.time.temporal.ChronoUnit.MONTHS.between(startDate, LocalDateTime.now())
        val currentInterestRate = if (monthsPassed >= term) interestRate else interestRate * 0.5
        
        return balance * (1 + currentInterestRate * monthsPassed / 12)
    }
    
    override fun getTransactionHistory(): List<TransactionRecord> = transactions.toList()
}

class Bank {
    private val accounts = mutableMapOf<String, Account>()
    
    fun createAccount(type: String, ownerName: String, pin: String, initialDeposit: Double = 0.0): String {
        val accountNumber = generateAccountNumber()
        val account = when (type.uppercase()) {
            "CHECKING", "–¢–ï–ö–£–©–ò–ô" -> CheckingAccount(accountNumber, ownerName, pin)
            "SAVINGS", "–°–ë–ï–†–ï–ì–ê–¢–ï–õ–¨–ù–´–ô" -> SavingsAccount(accountNumber, ownerName, pin)
            "DEPOSIT", "–î–ï–ü–û–ó–ò–¢–ù–´–ô" -> DepositAccount(accountNumber, ownerName, pin, 12) // 12 –º–µ—Å—è—Ü–µ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            else -> throw IllegalArgumentException("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø —Å—á–µ—Ç–∞")
        }
        
        if (initialDeposit > 0) {
            account.deposit(initialDeposit, pin)
        }
        
        accounts[accountNumber] = account
        return accountNumber
    }
    
    fun findAccount(accountNumber: String): Account? = accounts[accountNumber]
    
    fun getAllAccounts(): List<Account> = accounts.values.toList()
    
    fun getAccountInfo(accountNumber: String, pin: String): String? {
        val account = findAccount(accountNumber)
        return if (account != null && account.pin == pin) {
            account.getAccountInfo()
        } else {
            null
        }
    }
    
    private fun generateAccountNumber(): String {
        return (1000000000L..9999999999L).random().toString()
    }
}

fun main() {
    val bank = Bank()
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—á–µ—Ç–∞
    val checkingAcc = bank.createAccount("checking", "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤", "1234", 25000.0)
    val savingsAcc = bank.createAccount("savings", "–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞", "5678", 50000.0)
    
    while (true) {
        println("\\n=== –ë–ê–ù–ö–û–í–°–ö–ê–Ø –°–ò–°–¢–ï–ú–ê ===")
        println("1. –°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç")
        println("2. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É")
        println("3. –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å—á–µ—Ç–∞")
        println("4. –ù–∞—á–∏—Å–ª–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç—ã")
        println("0. –í—ã—Ö–æ–¥")
        
        print("–í–∞—à –≤—ã–±–æ—Ä: ")
        val choice = readLine()?.toIntOrNull()
        
        when (choice) {
            0 -> {
                println("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã!")
                break
            }
            1 -> createAccount(bank)
            2 -> loginToAccount(bank)
            3 -> showAllAccounts(bank)
            4 -> accrueInterest(bank)
            else -> println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")
        }
    }
}

fun createAccount(bank: Bank) {
    println("\\n=== –°–û–ó–î–ê–ù–ò–ï –°–ß–ï–¢–ê ===")
    println("–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Å—á–µ—Ç–∞:")
    println("1. –¢–µ–∫—É—â–∏–π —Å—á–µ—Ç")
    println("2. –°–±–µ—Ä–µ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å—á–µ—Ç")
    println("3. –î–µ–ø–æ–∑–∏—Ç–Ω—ã–π —Å—á–µ—Ç")
    
    print("–í–∞—à –≤—ã–±–æ—Ä: ")
    val typeChoice = readLine()?.toIntOrNull()
    
    val accountType = when (typeChoice) {
        1 -> "CHECKING"
        2 -> "SAVINGS"
        3 -> "DEPOSIT"
        else -> {
            println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä —Ç–∏–ø–∞ —Å—á–µ—Ç–∞")
            return
        }
    }
    
    print("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è: ")
    val name = readLine()?.trim() ?: ""
    
    print("–ü—Ä–∏–¥—É–º–∞–π—Ç–µ PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã): ")
    val pin = readLine()?.trim() ?: ""
    
    if (pin.length != 4 || !pin.all { it.isDigit() }) {
        println("PIN-–∫–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ 4 —Ü–∏—Ñ—Ä!")
        return
    }
    
    print("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –≤–∑–Ω–æ—Å–∞: ")
    val initialDeposit = readLine()?.toDoubleOrNull() ?: 0.0
    
    try {
        val accountNumber = bank.createAccount(accountType, name, pin, initialDeposit)
        println("–°—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!")
        println("–ù–æ–º–µ—Ä –≤–∞—à–µ–≥–æ —Å—á–µ—Ç–∞: $accountNumber")
        println("–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É!")
    } catch (e: Exception) {
        println("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—á–µ—Ç–∞: ${e.message}")
    }
}

fun loginToAccount(bank: Bank) {
    println("\\n=== –í–•–û–î –í –°–ò–°–¢–ï–ú–£ ===")
    print("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞: ")
    val accountNumber = readLine()?.trim() ?: ""
    
    val account = bank.findAccount(accountNumber)
    if (account == null) {
        println("–°—á–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω!")
        return
    }
    
    print("–í–≤–µ–¥–∏—Ç–µ PIN-–∫–æ–¥: ")
    val pin = readLine()?.trim() ?: ""
    
    if (account.pin != pin) {
        account.failedPinAttempts++
        println("–ù–µ–≤–µ—Ä–Ω—ã–π PIN-–∫–æ–¥!")
        if (account.isAccountBlocked()) {
            println("–°—á–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏–∑-–∑–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ø–æ–ø—ã—Ç–æ–∫ –≤–≤–æ–¥–∞ PIN!")
        }
        return
    }
    
    if (account.isAccountBlocked()) {
        println("–°—á–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω! –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –±–∞–Ω–∫.")
        return
    }
    
    account.resetPinAttempts()
    workWithAccount(account)
}

fun workWithAccount(account: Account) {
    while (true) {
        println("\\n=== –†–ê–ë–û–¢–ê –°–û –°–ß–ï–¢–û–ú ===")
        println("–°—á–µ—Ç: ${account.accountNumber} (${account.accountType})")
        println("–í–ª–∞–¥–µ–ª–µ—Ü: ${account.ownerName}")
        println("–ë–∞–ª–∞–Ω—Å: ${String.format("%.2f", account.balance)} —Ä—É–±.")
        println()
        println("1. –ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á–µ—Ç")
        println("2. –°–Ω—è—Ç—å –¥–µ–Ω—å–≥–∏")
        println("3. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏")
        println("4. –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π")
        println("5. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—á–µ—Ç–µ")
        
        if (account is SavingsAccount) {
            println("6. –ù–∞—á–∏—Å–ª–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç—ã")
        }
        if (account is DepositAccount) {
            println("7. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é")
        }
        
        println("8. –°–º–µ–Ω–∏—Ç—å PIN-–∫–æ–¥")
        println("0. –í—ã–π—Ç–∏")
        
        print("–í–∞—à –≤—ã–±–æ—Ä: ")
        val choice = readLine()?.toIntOrNull()
        
        when (choice) {
            0 -> break
            1 -> depositMoney(account)
            2 -> withdrawMoney(account)
            3 -> transferMoney(account)
            4 -> showHistory(account)
            5 -> println(account.getAccountInfo())
            6 -> {
                if (account is SavingsAccount) {
                    val interest = account.calculateInterest()
                    println("–ù–∞—á–∏—Å–ª–µ–Ω–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤: ${String.format("%.2f", interest)} —Ä—É–±.")
                    account.balance += interest
                }
            }
            7 -> {
                if (account is DepositAccount) {
                    val maturityAmount = account.calculateMaturityAmount()
                    println("–°—É–º–º–∞ –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é: ${String.format("%.2f", maturityAmount)} —Ä—É–±.")
                }
            }
            8 -> changePin(account)
            else -> println("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")
        }
    }
}

fun depositMoney(account: Account) {
    print("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è: ")
    val amount = readLine()?.toDoubleOrNull() ?: 0.0
    
    print("–í–≤–µ–¥–∏—Ç–µ PIN-–∫–æ–¥: ")
    val pin = readLine()?.trim() ?: ""
    
    if (account.deposit(amount, pin)) {
        println("–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
        println("–ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${String.format("%.2f", account.balance)} —Ä—É–±.")
    } else {
        println("–û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ.")
    }
}

fun withdrawMoney(account: Account) {
    print("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è —Å–Ω—è—Ç–∏—è: ")
    val amount = readLine()?.toDoubleOrNull() ?: 0.0
    
    print("–í–≤–µ–¥–∏—Ç–µ PIN-–∫–æ–¥: ")
    val pin = readLine()?.trim() ?: ""
    
    if (account.withdraw(amount, pin)) {
        println("–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
        println("–û—Å—Ç–∞–≤—à–∏–π—Å—è –±–∞–ª–∞–Ω—Å: ${String.format("%.2f", account.balance)} —Ä—É–±.")
    } else {
        println("–û–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ.")
    }
}

fun transferMoney(account: Account) {
    print("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è: ")
    val recipientNumber = readLine()?.trim() ?: ""
    
    print("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –ø–µ—Ä–µ–≤–æ–¥–∞: ")
    val amount = readLine()?.toDoubleOrNull() ?: 0.0
    
    print("–í–≤–µ–¥–∏—Ç–µ PIN-–∫–æ–¥: ")
    val pin = readLine()?.trim() ?: ""
    
    // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø—Ä–∏–º–µ—Ä–∞ —Å–æ–∑–¥–∞–µ–º —Ñ–∏–∫—Ç–∏–≤–Ω—ã–π —Å—á–µ—Ç
    println("–§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ —É–ø—Ä–æ—â–µ–Ω–∞.")
    println("–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∑–¥–µ—Å—å –±—ã–ª –±—ã –ø–æ–∏—Å–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.")
}

fun showHistory(account: Account) {
    val history = account.getTransactionHistory()
    if (history.isEmpty()) {
        println("–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø—É—Å—Ç–∞")
    } else {
        println("\\n=== –ò–°–¢–û–†–ò–Ø –û–ü–ï–†–ê–¶–ò–ô ===")
        history.forEach { println(it) }
    }
}

fun changePin(account: Account) {
    print("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π PIN-–∫–æ–¥: ")
    val currentPin = readLine()?.trim() ?: ""
    
    print("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π PIN-–∫–æ–¥ (4 —Ü–∏—Ñ—Ä—ã): ")
    val newPin = readLine()?.trim() ?: ""
    
    if (newPin.length != 4 || !newPin.all { it.isDigit() }) {
        println("PIN-–∫–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ 4 —Ü–∏—Ñ—Ä!")
        return
    }
    
    if (account.changePin(currentPin, newPin)) {
        println("PIN-–∫–æ–¥ —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!")
    } else {
        println("–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–∫—É—â–∏–π PIN-–∫–æ–¥!")
    }
}

fun showAllAccounts(bank: Bank) {
    val accounts = bank.getAllAccounts()
    if (accounts.isEmpty()) {
        println("–í –±–∞–Ω–∫–µ –Ω–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å—á–µ—Ç–æ–≤")
    } else {
        println("\\n=== –í–°–ï –°–ß–ï–¢–ê –í –ë–ê–ù–ö–ï ===")
        accounts.forEach { println("${it.accountNumber}: ${it.ownerName} - ${String.format("%.2f", it.balance)} —Ä—É–±.") }
    }
}

fun accrueInterest(bank: Bank) {
    val accounts = bank.getAllAccounts()
    var totalInterest = 0.0
    
    accounts.forEach { account ->
        if (account is SavingsAccount) {
            val interest = account.calculateInterest()
            totalInterest += interest
            account.balance += interest
            account.resetMonthlyLimits()
        }
    }
    
    println("–ü—Ä–æ—Ü–µ–Ω—Ç—ã –Ω–∞—á–∏—Å–ª–µ–Ω—ã. –û–±—â–∞—è —Å—É–º–º–∞: ${String.format("%.2f", totalInterest)} —Ä—É–±.")
}</code>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏—è</h2>
            <p>–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å:</p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª –∏–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö</li>
                <li>–°–∏—Å—Ç–µ–º—É –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏—è</li>
                <li>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö</li>
                <li>–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é</li>
                <li>–ê–Ω–∞–ª–∏—Ç–∏–∫—É –∏ –æ—Ç—á–µ—Ç—ã</li>
            </ul>
        </div>

        <div class="navigation">
            <a href="course-kotlin.html" class="nav-button">‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É</a>
            <button onclick="markAssignmentCompleted(5)" class="nav-button" style="border: none; cursor: pointer;">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
            <a href="kotlin-assignment-6.html" class="nav-button">–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Üí</a>
        </div>
        
        <script>
            function toggleSolution() {
                const solution = document.getElementById('solution');
                const button = event.target;
                
                if (solution.style.display === 'none') {
                    solution.style.display = 'block';
                    button.textContent = '–°–∫—Ä—ã—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
                } else {
                    solution.style.display = 'none';
                    button.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
                }
            }
            
            function markAssignmentCompleted(assignmentNum) {
                const completedAssignments = JSON.parse(localStorage.getItem('completedKotlinAssignments') || '[]');
                if (!completedAssignments.includes(assignmentNum)) {
                    completedAssignments.push(assignmentNum);
                    localStorage.setItem('completedKotlinAssignments', JSON.stringify(completedAssignments));
                    alert('–ó–∞–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! üè¶');
                } else {
                    alert('–≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —É–∂–µ –æ—Ç–º–µ—á–µ–Ω–æ –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ.');
                }
            }
        </script>
    </div>
</body>
</html>